<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°„é¾é–€ Pro - æˆ¿ä¸»ä¸»æ¬Šç‰ˆ</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <style>
        :root { --gold: #d4af37; --dark-green: #1a472a; --card-red: #e74c3c; --spectator: #95a5a6; }
        body { background: var(--dark-green); color: white; font-family: 'Segoe UI', sans-serif; text-align: center; margin: 0; padding: 10px; }
        .game-container { max-width: 1000px; margin: auto; }
        .player-list { display: flex; justify-content: center; gap: 12px; margin-bottom: 20px; flex-wrap: wrap; }
        .player-card { background: rgba(0,0,0,0.8); padding: 12px; border-radius: 12px; border: 2px solid #444; width: 140px; position: relative; }
        .player-card.active { border-color: var(--gold); box-shadow: 0 0 15px var(--gold); background: rgba(212, 175, 55, 0.1); }
        .player-card.is-spectator { border: 2px dashed var(--spectator); opacity: 0.6; }
        .player-name { font-weight: bold; display: block; overflow: hidden; }
        .player-balance { color: #2ecc71; font-weight: bold; font-family: monospace; font-size: 1.1rem; }
        .board { background: radial-gradient(circle, #2d5a3c 0%, #1a472a 100%); padding: 30px; border-radius: 50px; border: 4px solid var(--gold); }
        .pool-display { font-size: 48px; color: #f1c40f; font-weight: bold; }
        .cards { display: flex; justify-content: center; gap: 15px; margin: 20px 0; height: 160px; }
        .card { width: 100px; height: 150px; background: white; border-radius: 10px; color: black; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 35px; font-weight: bold; border: 2px solid #333; position: relative; }
        .card.hidden { background: #2c3e50; color: transparent; border: 2px solid #7f8c8d; }
        .card.red { color: var(--card-red); }
        .setup-box { background: rgba(0,0,0,0.7); padding: 25px; border-radius: 20px; border: 1px solid var(--gold); margin-bottom: 20px; }
        input { padding: 10px; border-radius: 5px; border: none; text-align: center; font-size: 1rem; }
        button { padding: 10px 18px; cursor: pointer; background: var(--gold); border: none; font-weight: bold; border-radius: 6px; color: #1a472a; margin: 4px; }
        .admin-btn { background: #e74c3c; color: white; }
    </style>
</head>
<body>

<div id="kicked-screen" style="display:none; padding:100px;">
    <h1>ğŸš« æ‚¨å·²é›¢é–‹æˆ¿é–“æˆ–è¢«è¸¢å‡º</h1>
    <button onclick="location.reload()">é‡æ–°ç™»å…¥</button>
</div>

<div id="game-ui" class="game-container">
    <h1>ğŸŸï¸ çš‡å®¶å°„é¾é–€ Pro</h1>

    <div id="setup-area" class="setup-box">
        <div id="login-part">
            <input type="text" id="my-name" placeholder="è¼¸å…¥æš±ç¨±">
            <button onclick="joinRoom()">é€²å…¥éŠæˆ²</button>
        </div>
        <div id="host-part" style="display:none;">
            <p>ğŸ‘‘ æˆ¿ä¸»ä¸»æ§å° (æ‚¨æœ‰æœ€é«˜æ¬Šé™)</p>
            åº•é‡‘: <input type="number" id="start-balance" value="1000" style="width:80px;">
            çºŒæ± è²»: <input type="number" id="entry-fee" value="100" style="width:70px;">
            <button onclick="hostStartGame()">å…¨å“¡æ”¶éŒ¢ãƒ»æ­£å¼é–‹æ¡Œ</button>
        </div>
    </div>

    <div id="player-area" class="player-list"></div>

    <div id="main-board" class="board" style="display:none;">
        <div class="pool-display">ğŸ’° $<span id="pool-val">0</span></div>
        <div id="
